<div {{ attributes }}>
    <div class="form-container">
        <div class="form-header">
            <h1>Create New Game</h1>
            <p>Set up your strategic adventure</p>
        </div>

        {{ form_start(form, {
            'attr': {
                'class': 'form',
                'data-turbo-frame': 'game-create-form',
                'data-live-action-param:save': 'prevent',
                'novalidate': true
            }
        }) }}

        <div class="form-group">
            {{ form_label(form.name) }}
            {{ form_widget(form.name) }}

            {% if form.name.vars.help %}
                <small class="form-help">{{ form.name.vars.help }}</small>
            {% endif %}

            {% if form.name.vars.errors|length > 0 %}
                <div class="form-error">
                    {{ ux_icon('lucide:alert-circle') }}
                    {% for error in form.name.vars.errors %}
                        {{ error.message }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Live preview section -->
        {% if form.name.vars.value %}
            <div class="game-preview">
                <div class="preview-header">
                    <h4>Game Preview</h4>
                </div>
                <div class="preview-content">
                    <div class="game-card-preview">
                        <h5>{{ form.name.vars.value }}</h5>
                        <div class="game-meta">
                            <span class="status-badge waiting">Waiting for Players</span>
                            <span class="player-count">1/4 Players</span>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}

        <button
            type="submit"
            data-action="live#action"
            data-live-action-param="save"
            class="btn btn-primary btn-full"
            {{ form.vars.valid ? '' : 'disabled' }}
        >
            {{ ux_icon('lucide:plus') }}
            Create Game
        </button>

        <button
            type="button"
            data-action="live#action"
            data-live-action-param="cancel"
            class="btn btn-outline btn-full"
            style="margin-top: 12px;"
        >
            {{ ux_icon('lucide:x') }}
            Cancel
        </button>

        {{ form_end(form) }}
    </div>
</div>
